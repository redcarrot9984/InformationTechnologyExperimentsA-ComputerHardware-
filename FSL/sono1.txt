module add32 {
   input     a: Bit(32)
   input     b: Bit(32)
   input   cin: Bit(1)
   output  sum: Bit(32)
   output cout: Bit(1)
   output  ov: Bit(1)
   
   def add(a, b, cin): Unit = {
      // Step 1: Initial Generate and Propagate
      val g0_0 = a(0) & b(0)
      val p0_0 = a(0) ^ b(0)
      val g0_1 = a(1) & b(1)
      val p0_1 = a(1) ^ b(1)
      val g0_2 = a(2) & b(2)
      val p0_2 = a(2) ^ b(2)
      val g0_3 = a(3) & b(3)
      val p0_3 = a(3) ^ b(3)
      val g0_4 = a(4) & b(4)
      val p0_4 = a(4) ^ b(4)
      val g0_5 = a(5) & b(5)
      val p0_5 = a(5) ^ b(5)
      val g0_6 = a(6) & b(6)
      val p0_6 = a(6) ^ b(6)
      val g0_7 = a(7) & b(7)
      val p0_7 = a(7) ^ b(7)
      val g0_8 = a(8) & b(8)
      val p0_8 = a(8) ^ b(8)
      val g0_9 = a(9) & b(9)
      val p0_9 = a(9) ^ b(9)
      val g0_10 = a(10) & b(10)
      val p0_10 = a(10) ^ b(10)
      val g0_11 = a(11) & b(11)
      val p0_11 = a(11) ^ b(11)
      val g0_12 = a(12) & b(12)
      val p0_12 = a(12) ^ b(12)
      val g0_13 = a(13) & b(13)
      val p0_13 = a(13) ^ b(13)
      val g0_14 = a(14) & b(14)
      val p0_14 = a(14) ^ b(14)
      val g0_15 = a(15) & b(15)
      val p0_15 = a(15) ^ b(15)
      val g0_16 = a(16) & b(16)
      val p0_16 = a(16) ^ b(16)
      val g0_17 = a(17) & b(17)
      val p0_17 = a(17) ^ b(17)
      val g0_18 = a(18) & b(18)
      val p0_18 = a(18) ^ b(18)
      val g0_19 = a(19) & b(19)
      val p0_19 = a(19) ^ b(19)
      val g0_20 = a(20) & b(20)
      val p0_20 = a(20) ^ b(20)
      val g0_21 = a(21) & b(21)
      val p0_21 = a(21) ^ b(21)
      val g0_22 = a(22) & b(22)
      val p0_22 = a(22) ^ b(22)
      val g0_23 = a(23) & b(23)
      val p0_23 = a(23) ^ b(23)
      val g0_24 = a(24) & b(24)
      val p0_24 = a(24) ^ b(24)
      val g0_25 = a(25) & b(25)
      val p0_25 = a(25) ^ b(25)
      val g0_26 = a(26) & b(26)
      val p0_26 = a(26) ^ b(26)
      val g0_27 = a(27) & b(27)
      val p0_27 = a(27) ^ b(27)
      val g0_28 = a(28) & b(28)
      val p0_28 = a(28) ^ b(28)
      val g0_29 = a(29) & b(29)
      val p0_29 = a(29) ^ b(29)
      val g0_30 = a(30) & b(30)
      val p0_30 = a(30) ^ b(30)
      val g0_31 = a(31) & b(31)
      val p0_31 = a(31) ^ b(31)

      // Step 2: Stage 1 (distance 1)
      val g1_0 = g0_0
      val p1_0 = p0_0
      val g1_1 = g0_1 | (p0_1 & g0_0)
      val p1_1 = p0_1 & p0_0
      val g1_2 = g0_2 | (p0_2 & g0_1)
      val p1_2 = p0_2 & p0_1
      val g1_3 = g0_3 | (p0_3 & g0_2)
      val p1_3 = p0_3 & p0_2
      val g1_4 = g0_4 | (p0_4 & g0_3)
      val p1_4 = p0_4 & p0_3
      val g1_5 = g0_5 | (p0_5 & g0_4)
      val p1_5 = p0_5 & p0_4
      val g1_6 = g0_6 | (p0_6 & g0_5)
      val p1_6 = p0_6 & p0_5
      val g1_7 = g0_7 | (p0_7 & g0_6)
      val p1_7 = p0_7 & p0_6
      val g1_8 = g0_8 | (p0_8 & g0_7)
      val p1_8 = p0_8 & p0_7
      val g1_9 = g0_9 | (p0_9 & g0_8)
      val p1_9 = p0_9 & p0_8
      val g1_10 = g0_10 | (p0_10 & g0_9)
      val p1_10 = p0_10 & p0_9
      val g1_11 = g0_11 | (p0_11 & g0_10)
      val p1_11 = p0_11 & p0_10
      val g1_12 = g0_12 | (p0_12 & g0_11)
      val p1_12 = p0_12 & p0_11
      val g1_13 = g0_13 | (p0_13 & g0_12)
      val p1_13 = p0_13 & p0_12
      val g1_14 = g0_14 | (p0_14 & g0_13)
      val p1_14 = p0_14 & p0_13
      val g1_15 = g0_15 | (p0_15 & g0_14)
      val p1_15 = p0_15 & p0_14
      val g1_16 = g0_16 | (p0_16 & g0_15)
      val p1_16 = p0_16 & p0_15
      val g1_17 = g0_17 | (p0_17 & g0_16)
      val p1_17 = p0_17 & p0_16
      val g1_18 = g0_18 | (p0_18 & g0_17)
      val p1_18 = p0_18 & p0_17
      val g1_19 = g0_19 | (p0_19 & g0_18)
      val p1_19 = p0_19 & p0_18
      val g1_20 = g0_20 | (p0_20 & g0_19)
      val p1_20 = p0_20 & p0_19
      val g1_21 = g0_21 | (p0_21 & g0_20)
      val p1_21 = p0_21 & p0_20
      val g1_22 = g0_22 | (p0_22 & g0_21)
      val p1_22 = p0_22 & p0_21
      val g1_23 = g0_23 | (p0_23 & g0_22)
      val p1_23 = p0_23 & p0_22
      val g1_24 = g0_24 | (p0_24 & g0_23)
      val p1_24 = p0_24 & p0_23
      val g1_25 = g0_25 | (p0_25 & g0_24)
      val p1_25 = p0_25 & p0_24
      val g1_26 = g0_26 | (p0_26 & g0_25)
      val p1_26 = p0_26 & p0_25
      val g1_27 = g0_27 | (p0_27 & g0_26)
      val p1_27 = p0_27 & p0_26
      val g1_28 = g0_28 | (p0_28 & g0_27)
      val p1_28 = p0_28 & p0_27
      val g1_29 = g0_29 | (p0_29 & g0_28)
      val p1_29 = p0_29 & p0_28
      val g1_30 = g0_30 | (p0_30 & g0_29)
      val p1_30 = p0_30 & p0_29
      val g1_31 = g0_31 | (p0_31 & g0_30)
      val p1_31 = p0_31 & p0_30

      // Step 3: Stage 2 (distance 2)
      val g2_0 = g1_0
      val p2_0 = p1_0
      val g2_1 = g1_1
      val p2_1 = p1_1
      val g2_2 = g1_2 | (p1_2 & g1_0)
      val p2_2 = p1_2 & p1_0
      val g2_3 = g1_3 | (p1_3 & g1_1)
      val p2_3 = p1_3 & p1_1
      val g2_4 = g1_4 | (p1_4 & g1_2)
      val p2_4 = p1_4 & p1_2
      val g2_5 = g1_5 | (p1_5 & g1_3)
      val p2_5 = p1_5 & p1_3
      val g2_6 = g1_6 | (p1_6 & g1_4)
      val p2_6 = p1_6 & p1_4
      val g2_7 = g1_7 | (p1_7 & g1_5)
      val p2_7 = p1_7 & p1_5
      val g2_8 = g1_8 | (p1_8 & g1_6)
      val p2_8 = p1_8 & p1_6
      val g2_9 = g1_9 | (p1_9 & g1_7)
      val p2_9 = p1_9 & p1_7
      val g2_10 = g1_10 | (p1_10 & g1_8)
      val p2_10 = p1_10 & p1_8
      val g2_11 = g1_11 | (p1_11 & g1_9)
      val p2_11 = p1_11 & p1_9
      val g2_12 = g1_12 | (p1_12 & g1_10)
      val p2_12 = p1_12 & p1_10
      val g2_13 = g1_13 | (p1_13 & g1_11)
      val p2_13 = p1_13 & p1_11
      val g2_14 = g1_14 | (p1_14 & g1_12)
      val p2_14 = p1_14 & p1_12
      val g2_15 = g1_15 | (p1_15 & g1_13)
      val p2_15 = p1_15 & p1_13
      val g2_16 = g1_16 | (p1_16 & g1_14)
      val p2_16 = p1_16 & p1_14
      val g2_17 = g1_17 | (p1_17 & g1_15)
      val p2_17 = p1_17 & p1_15
      val g2_18 = g1_18 | (p1_18 & g1_16)
      val p2_18 = p1_18 & p1_16
      val g2_19 = g1_19 | (p1_19 & g1_17)
      val p2_19 = p1_19 & p1_17
      val g2_20 = g1_20 | (p1_20 & g1_18)
      val p2_20 = p1_20 & p1_18
      val g2_21 = g1_21 | (p1_21 & g1_19)
      val p2_21 = p1_21 & p1_19
      val g2_22 = g1_22 | (p1_22 & g1_20)
      val p2_22 = p1_22 & p1_20
      val g2_23 = g1_23 | (p1_23 & g1_21)
      val p2_23 = p1_23 & p1_21
      val g2_24 = g1_24 | (p1_24 & g1_22)
      val p2_24 = p1_24 & p1_22
      val g2_25 = g1_25 | (p1_25 & g1_23)
      val p2_25 = p1_25 & p1_23
      val g2_26 = g1_26 | (p1_26 & g1_24)
      val p2_26 = p1_26 & p1_24
      val g2_27 = g1_27 | (p1_27 & g1_25)
      val p2_27 = p1_27 & p1_25
      val g2_28 = g1_28 | (p1_28 & g1_26)
      val p2_28 = p1_28 & p1_26
      val g2_29 = g1_29 | (p1_29 & g1_27)
      val p2_29 = p1_29 & p1_27
      val g2_30 = g1_30 | (p1_30 & g1_28)
      val p2_30 = p1_30 & p1_28
      val g2_31 = g1_31 | (p1_31 & g1_29)
      val p2_31 = p1_31 & p1_29

      // Step 4: Stage 3 (distance 4)
      val g3_0 = g2_0
      val p3_0 = p2_0
      val g3_1 = g2_1
      val p3_1 = p2_1
      val g3_2 = g2_2
      val p3_2 = p2_2
      val g3_3 = g2_3
      val p3_3 = p2_3
      val g3_4 = g2_4 | (p2_4 & g2_0)
      val p3_4 = p2_4 & p2_0
      val g3_5 = g2_5 | (p2_5 & g2_1)
      val p3_5 = p2_5 & p2_1
      val g3_6 = g2_6 | (p2_6 & g2_2)
      val p3_6 = p2_6 & p2_2
      val g3_7 = g2_7 | (p2_7 & g2_3)
      val p3_7 = p2_7 & p2_3
      val g3_8 = g2_8 | (p2_8 & g2_4)
      val p3_8 = p2_8 & p2_4
      val g3_9 = g2_9 | (p2_9 & g2_5)
      val p3_9 = p2_9 & p2_5
      val g3_10 = g2_10 | (p2_10 & g2_6)
      val p3_10 = p2_10 & p2_6
      val g3_11 = g2_11 | (p2_11 & g2_7)
      val p3_11 = p2_11 & p2_7
      val g3_12 = g2_12 | (p2_12 & g2_8)
      val p3_12 = p2_12 & p2_8
      val g3_13 = g2_13 | (p2_13 & g2_9)
      val p3_13 = p2_13 & p2_9
      val g3_14 = g2_14 | (p2_14 & g2_10)
      val p3_14 = p2_14 & p2_10
      val g3_15 = g2_15 | (p2_15 & g2_11)
      val p3_15 = p2_15 & p2_11
      val g3_16 = g2_16 | (p2_16 & g2_12)
      val p3_16 = p2_16 & p2_12
      val g3_17 = g2_17 | (p2_17 & g2_13)
      val p3_17 = p2_17 & p2_13
      val g3_18 = g2_18 | (p2_18 & g2_14)
      val p3_18 = p2_18 & p2_14
      val g3_19 = g2_19 | (p2_19 & g2_15)
      val p3_19 = p2_19 & p2_15
      val g3_20 = g2_20 | (p2_20 & g2_16)
      val p3_20 = p2_20 & p2_16
      val g3_21 = g2_21 | (p2_21 & g2_17)
      val p3_21 = p2_21 & p2_17
      val g3_22 = g2_22 | (p2_22 & g2_18)
      val p3_22 = p2_22 & p2_18
      val g3_23 = g2_23 | (p2_23 & g2_19)
      val p3_23 = p2_23 & p2_19
      val g3_24 = g2_24 | (p2_24 & g2_20)
      val p3_24 = p2_24 & p2_20
      val g3_25 = g2_25 | (p2_25 & g2_21)
      val p3_25 = p2_25 & p2_21
      val g3_26 = g2_26 | (p2_26 & g2_22)
      val p3_26 = p2_26 & p2_22
      val g3_27 = g2_27 | (p2_27 & g2_23)
      val p3_27 = p2_27 & p2_23
      val g3_28 = g2_28 | (p2_28 & g2_24)
      val p3_28 = p2_28 & p2_24
      val g3_29 = g2_29 | (p2_29 & g2_25)
      val p3_29 = p2_29 & p2_25
      val g3_30 = g2_30 | (p2_30 & g2_26)
      val p3_30 = p2_30 & p2_26
      val g3_31 = g2_31 | (p2_31 & g2_27)
      val p3_31 = p2_31 & p2_27

      // Step 5: Stage 4 (distance 8)
      val g4_0 = g3_0
      val p4_0 = p3_0
      val g4_1 = g3_1
      val p4_1 = p3_1
      val g4_2 = g3_2
      val p4_2 = p3_2
      val g4_3 = g3_3
      val p4_3 = p3_3
      val g4_4 = g3_4
      val p4_4 = p3_4
      val g4_5 = g3_5
      val p4_5 = p3_5
      val g4_6 = g3_6
      val p4_6 = p3_6
      val g4_7 = g3_7
      val p4_7 = p3_7
      val g4_8 = g3_8 | (p3_8 & g3_0)
      val p4_8 = p3_8 & p3_0
      val g4_9 = g3_9 | (p3_9 & g3_1)
      val p4_9 = p3_9 & p3_1
      val g4_10 = g3_10 | (p3_10 & g3_2)
      val p4_10 = p3_10 & p3_2
      val g4_11 = g3_11 | (p3_11 & g3_3)
      val p4_11 = p3_11 & p3_3
      val g4_12 = g3_12 | (p3_12 & g3_4)
      val p4_12 = p3_12 & p3_4
      val g4_13 = g3_13 | (p3_13 & g3_5)
      val p4_13 = p3_13 & p3_5
      val g4_14 = g3_14 | (p3_14 & g3_6)
      val p4_14 = p3_14 & p3_6
      val g4_15 = g3_15 | (p3_15 & g3_7)
      val p4_15 = p3_15 & p3_7
      val g4_16 = g3_16 | (p3_16 & g3_8)
      val p4_16 = p3_16 & p3_8
      val g4_17 = g3_17 | (p3_17 & g3_9)
      val p4_17 = p3_17 & p3_9
      val g4_18 = g3_18 | (p3_18 & g3_10)
      val p4_18 = p3_18 & p3_10
      val g4_19 = g3_19 | (p3_19 & g3_11)
      val p4_19 = p3_19 & p3_11
      val g4_20 = g3_20 | (p3_20 & g3_12)
      val p4_20 = p3_20 & p3_12
      val g4_21 = g3_21 | (p3_21 & g3_13)
      val p4_21 = p3_21 & p3_13
      val g4_22 = g3_22 | (p3_22 & g3_14)
      val p4_22 = p3_22 & p3_14
      val g4_23 = g3_23 | (p3_23 & g3_15)
      val p4_23 = p3_23 & p3_15
      val g4_24 = g3_24 | (p3_24 & g3_16)
      val p4_24 = p3_24 & p3_16
      val g4_25 = g3_25 | (p3_25 & g3_17)
      val p4_25 = p3_25 & p3_17
      val g4_26 = g3_26 | (p3_26 & g3_18)
      val p4_26 = p3_26 & p3_18
      val g4_27 = g3_27 | (p3_27 & g3_19)
      val p4_27 = p3_27 & p3_19
      val g4_28 = g3_28 | (p3_28 & g3_20)
      val p4_28 = p3_28 & p3_20
      val g4_29 = g3_29 | (p3_29 & g3_21)
      val p4_29 = p3_29 & p3_21
      val g4_30 = g3_30 | (p3_30 & g3_22)
      val p4_30 = p3_30 & p3_22
      val g4_31 = g3_31 | (p3_31 & g3_23)
      val p4_31 = p3_31 & p3_23

      // Step 6: Stage 5 (distance 16)
      val g5_0 = g4_0
      val p5_0 = p4_0
      val g5_1 = g4_1
      val p5_1 = p4_1
      val g5_2 = g4_2
      val p5_2 = p4_2
      val g5_3 = g4_3
      val p5_3 = p4_3
      val g5_4 = g4_4
      val p5_4 = p4_4
      val g5_5 = g4_5
      val p5_5 = p4_5
      val g5_6 = g4_6
      val p5_6 = p4_6
      val g5_7 = g4_7
      val p5_7 = p4_7
      val g5_8 = g4_8
      val p5_8 = p4_8
      val g5_9 = g4_9
      val p5_9 = p4_9
      val g5_10 = g4_10
      val p5_10 = p4_10
      val g5_11 = g4_11
      val p5_11 = p4_11
      val g5_12 = g4_12
      val p5_12 = p4_12
      val g5_13 = g4_13
      val p5_13 = p4_13
      val g5_14 = g4_14
      val p5_14 = p4_14
      val g5_15 = g4_15
      val p5_15 = p4_15
      val g5_16 = g4_16 | (p4_16 & g4_0)
      val p5_16 = p4_16 & p4_0
      val g5_17 = g4_17 | (p4_17 & g4_1)
      val p5_17 = p4_17 & p4_1
      val g5_18 = g4_18 | (p4_18 & g4_2)
      val p5_18 = p4_18 & p4_2
      val g5_19 = g4_19 | (p4_19 & g4_3)
      val p5_19 = p4_19 & p4_3
      val g5_20 = g4_20 | (p4_20 & g4_4)
      val p5_20 = p4_20 & p4_4
      val g5_21 = g4_21 | (p4_21 & g4_5)
      val p5_21 = p4_21 & p4_5
      val g5_22 = g4_22 | (p4_22 & g4_6)
      val p5_22 = p4_22 & p4_6
      val g5_23 = g4_23 | (p4_23 & g4_7)
      val p5_23 = p4_23 & p4_7
      val g5_24 = g4_24 | (p4_24 & g4_8)
      val p5_24 = p4_24 & p4_8
      val g5_25 = g4_25 | (p4_25 & g4_9)
      val p5_25 = p4_25 & p4_9
      val g5_26 = g4_26 | (p4_26 & g4_10)
      val p5_26 = p4_26 & p4_10
      val g5_27 = g4_27 | (p4_27 & g4_11)
      val p5_27 = p4_27 & p4_11
      val g5_28 = g4_28 | (p4_28 & g4_12)
      val p5_28 = p4_28 & p4_12
      val g5_29 = g4_29 | (p4_29 & g4_13)
      val p5_29 = p4_29 & p4_13
      val g5_30 = g4_30 | (p4_30 & g4_14)
      val p5_30 = p4_30 & p4_14
      val g5_31 = g4_31 | (p4_31 & g4_15)
      val p5_31 = p4_31 & p4_15

      // Step 7: Carry Calculation
      val c_0 = cin
      val c_1 = g0_0 | (p0_0 & cin)
      val c_2 = g1_1 | (p1_1 & cin)
      val c_3 = g2_2 | (p2_2 & cin)
      val c_4 = g3_3 | (p3_3 & cin)
      val c_5 = g3_4 | (p3_4 & cin)
      val c_6 = g3_5 | (p3_5 & cin)
      val c_7 = g3_6 | (p3_6 & cin)
      val c_8 = g4_7 | (p4_7 & cin)
      val c_9 = g4_8 | (p4_8 & cin)
      val c_10 = g4_9 | (p4_9 & cin)
      val c_11 = g4_10 | (p4_10 & cin)
      val c_12 = g4_11 | (p4_11 & cin)
      val c_13 = g4_12 | (p4_12 & cin)
      val c_14 = g4_13 | (p4_13 & cin)
      val c_15 = g4_14 | (p4_14 & cin)
      val c_16 = g5_15 | (p5_15 & cin)
      val c_17 = g5_16 | (p5_16 & cin)
      val c_18 = g5_17 | (p5_17 & cin)
      val c_19 = g5_18 | (p5_18 & cin)
      val c_20 = g5_19 | (p5_19 & cin)
      val c_21 = g5_20 | (p5_20 & cin)
      val c_22 = g5_21 | (p5_21 & cin)
      val c_23 = g5_22 | (p5_22 & cin)
      val c_24 = g5_23 | (p5_23 & cin)
      val c_25 = g5_24 | (p5_24 & cin)
      val c_26 = g5_25 | (p5_25 & cin)
      val c_27 = g5_26 | (p5_26 & cin)
      val c_28 = g5_27 | (p5_27 & cin)
      val c_29 = g5_28 | (p5_28 & cin)
      val c_30 = g5_29 | (p5_29 & cin)
      val c_31 = g5_30 | (p5_30 & cin)
      val c = c_31 ++ c_30 ++ c_29 ++ c_28 ++ c_27 ++ c_26 ++ c_25 ++ c_24 ++
              c_23 ++ c_22 ++ c_21 ++ c_20 ++ c_19 ++ c_18 ++ c_17 ++ c_16 ++
              c_15 ++ c_14 ++ c_13 ++ c_12 ++ c_11 ++ c_10 ++ c_9 ++ c_8 ++
              c_7 ++ c_6 ++ c_5 ++ c_4 ++ c_3 ++ c_2 ++ c_1 ++ c_0

      // Step 8: Sum Calculation
      val p = p0_31 ++ p0_30 ++ p0_29 ++ p0_28 ++ p0_27 ++ p0_26 ++ p0_25 ++ p0_24 ++
              p0_23 ++ p0_22 ++ p0_21 ++ p0_20 ++ p0_19 ++ p0_18 ++ p0_17 ++ p0_16 ++
              p0_15 ++ p0_14 ++ p0_13 ++ p0_12 ++ p0_11 ++ p0_10 ++ p0_9 ++ p0_8 ++
              p0_7 ++ p0_6 ++ p0_5 ++ p0_4 ++ p0_3 ++ p0_2 ++ p0_1 ++ p0_0
      sum = p ^ c

      // Step 9: Carry-Out and Overflow
      cout = g5_31 | (p5_31 & cin)
      ov = cout ^ c_31
   }
}